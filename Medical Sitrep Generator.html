<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Incident Report Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
        }
        h1 {
            color: #333;
        }
        form {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 900px;
            margin: auto;
        }
        .form-group {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            flex-wrap: nowrap;
	    box-sizing: border-box;
        }
        .form-group label {
            flex: 0 0 auto;
            margin-right: 10px;
            font-weight: bold;
        }
        .form-group input[type="text"],
        .form-group select {
            flex: 1;
            margin: 0;
            margin-right: 10px;
            box-sizing: border-box; /* Ensure padding and border are included in the width */
        }
        .form-group input[type="button"] {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        .form-group input[type="button"]:hover {
            background-color: #45a049;
        }
        .radio-group {
            margin-bottom: 10px;
        }
        .radio-group label {
            margin-right: 20px;
        }
        .conditional-inputs {
            display: none;
            margin-top: 10px;
        }
        .conditional-inputs input[type="text"] {
            width: 100%; /* Full width of the container */
            max-width: 500px; /* Set maximum width */
            margin: 5px 0; /* Adjust margin to provide spacing */
	    margin-right: 10px;
            box-sizing: border-box; /* Include padding and border in the elementâ€™s total width and height */
        }
        pre {
            background-color: #fff;
            padding: 10px;
            border-radius: 4px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            margin: auto;
        }
        #copyButton {
            background-color: #008CBA;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
        }
        #copyButton:hover {
            background-color: #007bb5;
        }
    </style>
</head>
<body>
    <h1>Incident Report Generator</h1>
    <form id="incidentForm">
        <div class="form-group">
            <label for="time1">Initial Call Time:</label>
            <input type="text" id="time1" name="time1" style="width: 150px;" required>
            <label for="timeZone">Time Zone:</label>
            <select id="timeZone" name="timeZone" required>
                <option value="">Select Time Zone</option>
                <option value="CST">CST</option>
                <option value="EST">EST</option>
                <option value="PST">PST</option>
                <!-- Add other time zones as needed -->
            </select>
        </div>

    	<div class="form-group">
        	<label for="employeeType1">Company:</label>
        	<select id="employeeType1" name="employeeType1" required class="narrow-select">
            	<option value="">--Select Company--</option>
            	<option value="Flex">Flex</option>
            	<option value="Aramark">Aramark</option>
            	<option value="SolarEdge">SolarEdge</option>
            	<option value="VOLT">VOLT</option>
            	<option value="Staffmark">Staffmark</option>
            	<option value="ONIN">ONIN</option>
            	<option value="Allied Universal">Allied Universal</option>
        	</select><br>
        	<label for="employee1">Reporting Employee:</label>
        	<input type="text" id="employee1" name="employee1" required>
        	<label for="employeeId1">ID Number:</label>
        	<input type="text" id="employeeId1" name="employeeId1" required>
    	</div>

    	<div class="form-group">       	 
        	<label for="employeeType2">Company:</label>
        	<select id="employeeType2" name="employeeType2" required class="narrow-select">
            	<option value="">--Select Company--</option>
            	<option value="Flex">Flex</option>
            	<option value="Aramark">Aramark</option>
            	<option value="SolarEdge">SolarEdge</option>
            	<option value="VOLT">VOLT</option>
            	<option value="Staffmark">Staffmark</option>
            	<option value="ONIN">ONIN</option>
            	<option value="Allied Universal">Allied Universal</option>
        	</select>
        	<label for="employee2">Patient Name:</label>
        	<input type="text" id="employee2" name="employee2" required>
        	<label for="employeeId2">Patient ID Number:</label>
        	<input type="text" id="employeeId2" name="employeeId2" required>
    	</div>

    	<div class="form-group">
        	<label for="symptoms">Symptoms:</label>
        	<input type="text" id="symptoms" name="symptoms" required>
    	</div>

    	<div class="form-group">
        	<label for="mod">Mod:</label>
        	<select id="mod" name="mod" required class="narrow-select">
            	<option value="">--Select Mod--</option>
            	<option value="A">A</option>
            	<option value="B">B</option>
            	<option value="C">C</option>
            	<option value="D">D</option>
            	<option value="E">E</option>
            	<option value="F">F</option>
            	<option value="G">G</option>
            	<option value="H">H</option>
            	<option value="I">I</option>
            	<option value="J">J</option>
            	<option value="K">K</option>
            	<option value="L">L</option>
            	<option value="M">M</option>
            	<option value="N">N</option>
            	<option value="O">O</option>
            	<option value="P">P</option>
            	<option value="Q">Q</option>
            	<option value="R">R</option>
            	<option value="S">S</option>
        	</select>
        	<label for="column">Column:</label>
        	<input type="text" id="column" name="column" required>
    	</div>

    	<div class="form-group">
        	<label for="time2">Time ERT Contacted:</label>
        	<input type="text" id="time2" name="time2" required>
    	</div>

    	<div class="form-group">
        	<label for="ertMember">Responding ERT Member:</label>
        	<input type="text" id="ertMember" name="ertMember" required>
    	</div>
    
    	<div class="form-group">
        	<label for="time3">ERT Team Time of Arrival:</label>
        	<input type="text" id="time3" name="time3" required>
    	</div>

        <div class="radio-group">
            <label><input type="radio" name="status" value="stayingAtWork" onclick="showConditionalInputs()"> Staying at Work</label>
            <label><input type="radio" name="status" value="goingHome" onclick="showConditionalInputs()"> Going Home</label>
            <label><input type="radio" name="status" value="emsResponded" onclick="showConditionalInputs()"> EMS Responded</label>
        </div>

        <div id="stayingAtWorkInputs" class="conditional-inputs">
            <div class="form-group">
                <label for="allClear">All Clear:</label>
                <input type="text" id="allClear" name="allClear">
            </div>
        </div>

        <div id="goingHomeInputs" class="conditional-inputs">
            <div class="form-group">
                <label for="leftSite">Left Site at:</label>
                <input type="text" id="leftSite" name="leftSite">
                <label for="allClearGoHome">All Clear:</label>
                <input type="text" id="allClearGoHome" name="allClearGoHome">
            </div>
        </div>

        <div id="emsRespondedInputs" class="conditional-inputs">
            <div class="form-group">
                <label for="emsArrived">EMS Arrived:</label>
                <input type="text" id="emsArrived" name="emsArrived">
                <label for="hospitalName">Hospital Name:</label>
                <input type="text" id="hospitalName" name="hospitalName">
                <label for="unitNumber">Unit Number:</label>
                <input type="text" id="unitNumber" name="unitNumber">
                <label for="leftSiteAt">Left Site at:</label>
                <input type="text" id="leftSiteAt" name="leftSiteAt">
                <label for="allClearEMS">All Clear:</label>
                <input type="text" id="allClearEMS" name="allClearEMS">
            </div>
        </div>

        <div class="form-group">
            <input type="button" value="Generate Report" onclick="generateReport()">
        </div>
        <div class="form-group">
            <input type="button" id="copyButton" value="Copy Report" onclick="copyReport()">
        </div>
    </form>

    <h2>Generated Report:</h2>
    <pre id="reportOutput"></pre>

    <script>
        function adjustSelectWidth(selectElement) {
            const options = selectElement.options;
            let maxWidth = 0;
            const tempSpan = document.createElement('span');
            tempSpan.style.visibility = 'hidden';
            tempSpan.style.position = 'absolute';
            document.body.appendChild(tempSpan);

            for (let i = 0; i < options.length; i++) {
                tempSpan.textContent = options[i].text;
                document.body.appendChild(tempSpan);
                const optionWidth = tempSpan.offsetWidth;
                if (optionWidth > maxWidth) {
                    maxWidth = optionWidth;
                }
            }

            document.body.removeChild(tempSpan);
            selectElement.style.width = `${maxWidth + 20}px`; // Add some padding
        }

        function initializeDropdowns() {
            const dropdowns = document.querySelectorAll('select');
            dropdowns.forEach(dropdown => adjustSelectWidth(dropdown));
        }

        function showConditionalInputs() {
            // Hide all conditional inputs
            document.querySelectorAll('.conditional-inputs').forEach(div => div.style.display = 'none');

            // Show the relevant inputs based on selected radio button
            const selectedValue = document.querySelector('input[name="status"]:checked').value;
            if (selectedValue) {
                document.getElementById(`${selectedValue}Inputs`).style.display = 'block';
            }
        }

        function generateReport() {
            // Get form values
            var time1 = document.getElementById('time1').value;
            var timeZone = document.getElementById('timeZone').value;
            var employeeType1 = document.getElementById('employeeType1').value;
            var employee1 = document.getElementById('employee1').value;
            var employeeId1 = document.getElementById('employeeId1').value;
            var employeeType2 = document.getElementById('employeeType2').value;
            var employee2 = document.getElementById('employee2').value;
            var employeeId2 = document.getElementById('employeeId2').value;
            var symptoms = document.getElementById('symptoms').value;
            var mod = document.getElementById('mod').value;
            var column = document.getElementById('column').value;
            var time2 = document.getElementById('time2').value;
            var ertMember = document.getElementById('ertMember').value;
            var time3 = document.getElementById('time3').value;

            // Check radio button value
            var status = document.querySelector('input[name="status"]:checked')?.value || '';

            // Get additional details based on selected radio button
            var additionalDetails = '';
            if (status === 'stayingAtWork') {
                var allClear = document.getElementById('allClear').value;
                additionalDetails = `The all clear was given at ${allClear} ${timeZone}, and it was reported that ${employee2} would be returning to work.`;
            } else if (status === 'goingHome') {
                var leftSite = document.getElementById('leftSite').value;
                var allClearGoHome = document.getElementById('allClearGoHome').value;
                additionalDetails = `At ${leftSite} ${timeZone}, it was reported that ${employee2} left the site and went home after being assisted by the ERT team. The All Clear was given at ${allClearGoHome}.`;
            } else if (status === 'emsResponded') {
                var emsArrived = document.getElementById('emsArrived').value;
                var hospitalName = document.getElementById('hospitalName').value;
                var unitNumber = document.getElementById('unitNumber').value;
                var leftSiteAt = document.getElementById('leftSiteAt').value;
                var allClearEMS = document.getElementById('allClearEMS').value;
                additionalDetails = `After assessing the situation, the ERT Team requested EMS assistance, and 911 was quickly contacted. Ambulance #${unitNumber} arrived on site at ${emsArrived} ${timeZone} and was brought to the patient. After EMS assisted the patient, it was reported that they would be going to ${hospitalName}. They left the site at ${leftSiteAt}, and the All Clear was given at ${allClearEMS}.`;
            }

            // Generate report content
            var reportContent = `
At ${time1} ${timeZone}, the RSOC (Regional Security Operations Center) received a call from ${employeeType1} employee ${employee1} (${employeeId1}) regarding ${employeeType2} employee ${employee2} (${employeeId2}) who was experiencing ${symptoms} in mod ${mod}, nearby column ${column}. The ERT team was contacted through the Push To Talk phone at ${time2} ${timeZone}, and ${ertMember} responded en route at ${time3} ${timeZone}. ${additionalDetails}
            `.trim();

            // Display report content
            document.getElementById('reportOutput').textContent = reportContent;
        }

        function copyReport() {
            // Get the report content
            var reportContent = document.getElementById('reportOutput').textContent;

            // Use the Clipboard API to copy the content
            navigator.clipboard.writeText(reportContent).then(() => {
                alert('Report copied to clipboard!');
            }).catch(err => {
                console.error('Failed to copy: ', err);
            });
        }

        window.onload = initializeDropdowns;
    </script>
</body>
</html>


